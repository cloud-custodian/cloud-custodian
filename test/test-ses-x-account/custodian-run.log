2024-10-04 15:57:29,244 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 543, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 599, in augment
    return self.source.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 275, in augment
    results = list(w.map(
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 621, in result_iterator
    yield _result_or_cancel(fs.pop())
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 319, in _result_or_cancel
    return fut.result(timeout)
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 458, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/usr/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 748, in _scalar_augment
    response = op(*args, **kw)
  File "/home/h9h/cloud-custodian/c7n/utils.py", line 457, in _retry
    return func(*args, **kw)
  File "/home/h9h/cloud-custodian/.venv/lib/python3.10/site-packages/botocore/client.py", line 569, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/h9h/cloud-custodian/.venv/lib/python3.10/site-packages/botocore/client.py", line 1023, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (AccessDeniedException) when calling the GetEmailIdentity operation: User: arn:aws:iam::644160558196:user/matt@capitalone.com is not authorized to perform: ses:GetEmailIdentity on resource: arn:aws:ses:us-east-1:644160558196:identity/c7ntest@gmail.com with an explicit deny in a resource-based policy
2024-10-04 15:57:46,862 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:2 time:1.01
2024-10-04 15:58:33,305 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:2 time:0.88
2024-10-04 16:01:06,279 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:2 time:0.86
2024-10-04 16:01:13,880 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:1 time:0.89
2024-10-04 16:11:15,326 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:1 time:0.94
2024-10-04 16:11:50,212 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 549, in resources
    resources = self.filter_resources(resources)
  File "/home/h9h/cloud-custodian/c7n/manager.py", line 120, in filter_resources
    original, len(resources), self.__class__.__name__.lower()))
TypeError: object of type 'map' has no len()
2024-10-04 16:12:15,236 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:1 time:0.87
2024-10-04 16:15:12,310 - custodian.policy - INFO - policy:test-ses-x-account resource:ses-email-identity region:us-west-2 count:1 time:0.94
