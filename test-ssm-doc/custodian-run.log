2024-06-13 15:38:31,065 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.33
2024-06-13 15:39:06,875 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.31
2024-06-13 15:45:42,998 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 623, in augment
    r['Content'] = json.loads(r['Content'])
KeyError: 'Content'
2024-06-13 15:46:32,251 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 624, in augment
    r['Content'] = json.loads(r['Content'])
KeyError: 'Content'
2024-06-13 15:49:22,732 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 624, in augment
    r['Content'] = json.loads(r.get('Content'), '')
TypeError: loads() takes 1 positional argument but 2 were given
2024-06-13 15:49:36,183 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 624, in augment
    r['Content'] = json.loads(r.get('Content', ''))
  File "/usr/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2024-06-13 15:49:46,492 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.15
2024-06-13 15:50:15,732 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.16
2024-06-13 15:50:39,250 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.16
2024-06-13 15:50:47,973 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.32
2024-06-13 15:50:56,264 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.14
2024-06-13 15:51:17,007 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.17
2024-06-13 15:51:36,992 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.31
2024-06-13 15:55:17,495 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 600, in augment
    return self.source.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 607, in augment
    r['Content'] = json.loads(r['Content'])
KeyError: 'Content'
2024-06-13 15:55:45,495 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 548, in resources
    resource_count = len(resources)
TypeError: object of type 'NoneType' has no len()
2024-06-13 15:56:40,468 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 600, in augment
    return self.source.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 607, in augment
    r['Content'] = json.loads(r['Content'])
KeyError: 'Content'
2024-06-13 16:06:42,750 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 600, in augment
    return self.source.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 608, in augment
    def _augment(r):
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 608, in augment
    def _augment(r):
  File "/usr/lib/python3.10/bdb.py", line 90, in trace_dispatch
    return self.dispatch_line(frame)
  File "/usr/lib/python3.10/bdb.py", line 115, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2024-06-13 16:06:45,524 - custodian.output - ERROR - Error while executing policy
Traceback (most recent call last):
  File "/home/h9h/cloud-custodian/c7n/policy.py", line 330, in run
    resources = self.policy.resource_manager.resources()
  File "/home/h9h/cloud-custodian/c7n/query.py", line 544, in resources
    resources = self.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/query.py", line 600, in augment
    return self.source.augment(resources)
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 618, in augment
    return list(map(_augment, resources))
  File "/home/h9h/cloud-custodian/c7n/resources/ssm.py", line 610, in _augment
    document = self.manager.retry(client.get_document,
  File "/home/h9h/cloud-custodian/.venv/lib/python3.10/site-packages/botocore/client.py", line 906, in __getattr__
    raise AttributeError(
AttributeError: 'SageMaker' object has no attribute 'get_document'
2024-06-13 16:07:13,207 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.30
2024-06-13 16:08:06,984 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.30
2024-06-13 16:09:25,637 - custodian.policy - INFO - policy:test-ssm-doc resource:ssm-document region:us-east-1 count:2 time:0.30
