{
    "version": 1,
    "interactions": [
        {
            "request": {
                "method": "POST",
                "uri": "https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/config/publishingcredentials/list?api-version=2019-08-01",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:29 GMT"
                    ],
                    "cache-control": [
                        "no-cache"
                    ],
                    "x-ms-ratelimit-remaining-subscription-resource-requests": [
                        "11999"
                    ],
                    "content-type": [
                        "application/json"
                    ],
                    "content-length": [
                        "837"
                    ]
                },
                "body": {
                    "data": {
                        "id": "/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/publishingcredentials/$cloud-custodian-test-consumptionc129bfa71a47",
                        "name": "cloud-custodian-test-consumptionc129bfa71a47",
                        "type": "Microsoft.Web/sites/publishingcredentials",
                        "location": "East US",
                        "properties": {
                            "name": null,
                            "publishingUserName": "$cloud-custodian-test-consumptionc129bfa71a47",
                            "publishingPassword": "xEzCj4r1vB2M6aKNci3XZ3SY2K7u2qCjwJmbCH9Dn5STdLxQHGmiwr698bmD",
                            "publishingPasswordHash": null,
                            "publishingPasswordHashSalt": null,
                            "metadata": null,
                            "isDeleted": false,
                            "scmUri": "https://$cloud-custodian-test-consumptionc129bfa71a47:xEzCj4r1vB2M6aKNci3XZ3SY2K7u2qCjwJmbCH9Dn5STdLxQHGmiwr698bmD@cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net"
                        }
                    }
                }
            }
        },
        {
            "request": {
                "method": "GET",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/api/deployments",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:31 GMT"
                    ],
                    "etag": [
                        "\"1fd6d52f\""
                    ],
                    "set-cookie": [
                        "ARRAffinity=e884e00d7be4d5b5b0e894de391efc8d4e4f2777ea78fce6fe17dc71260e26cb;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ]
                },
                "body": {
                    "data": []
                }
            }
        },
        {
            "request": {
                "method": "POST",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/api/zipdeploy?isAsync=true",
                "body": "mock_body",
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 202,
                    "message": "Accepted"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:32 GMT"
                    ],
                    "content-length": [
                        "0"
                    ],
                    "location": [
                        "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net:443/api/deployments/latest?deployer=Push-Deployer&time=2020-02-29_01-58-33Z"
                    ],
                    "set-cookie": [
                        "ARRAffinity=e884e00d7be4d5b5b0e894de391efc8d4e4f2777ea78fce6fe17dc71260e26cb;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ]
                },
                "body": {
                    "string": ""
                }
            }
        },
        {
            "request": {
                "method": "GET",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/deployments",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:34 GMT"
                    ],
                    "etag": [
                        "\"8d7bcba8d6ebce6\""
                    ],
                    "set-cookie": [
                        "ARRAffinity=e884e00d7be4d5b5b0e894de391efc8d4e4f2777ea78fce6fe17dc71260e26cb;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ]
                },
                "body": {
                    "data": [
                        {
                            "id": "c8a7948d5a554982a8591f89fcf47872",
                            "status": 1,
                            "status_text": "Building and Deploying 'c8a7948d5a554982a8591f89fcf47872'.",
                            "author_email": "N/A",
                            "author": "N/A",
                            "deployer": "Push-Deployer",
                            "message": "Created via a push deployment",
                            "progress": "Running oryx build...",
                            "received_time": "2020-02-29T01:58:33.330687Z",
                            "start_time": "2020-02-29T01:58:33.3891502Z",
                            "end_time": null,
                            "last_success_end_time": null,
                            "complete": false,
                            "active": false,
                            "is_temp": false,
                            "is_readonly": true,
                            "url": "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net/deployments/c8a7948d5a554982a8591f89fcf47872",
                            "log_url": "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net/deployments/c8a7948d5a554982a8591f89fcf47872/log",
                            "site_name": "cloud-custodian-test-consumption382f3715d07e"
                        }
                    ]
                }
            }
        },
        {
            "request": {
                "method": "GET",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/deployments/c8a7948d5a554982a8591f89fcf47872",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:48 GMT"
                    ],
                    "set-cookie": [
                        "ARRAffinity=e884e00d7be4d5b5b0e894de391efc8d4e4f2777ea78fce6fe17dc71260e26cb;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ]
                },
                "body": {
                    "data": {
                        "id": "c8a7948d5a554982a8591f89fcf47872",
                        "status": 4,
                        "status_text": "",
                        "author_email": "N/A",
                        "author": "N/A",
                        "deployer": "Push-Deployer",
                        "message": "Created via a push deployment",
                        "progress": "",
                        "received_time": "2020-02-29T01:58:33.330687Z",
                        "start_time": "2020-02-29T01:58:33.3891502Z",
                        "end_time": "2020-02-29T01:58:48.6525127Z",
                        "last_success_end_time": "2020-02-29T01:58:48.6525127Z",
                        "complete": true,
                        "active": true,
                        "is_temp": false,
                        "is_readonly": true,
                        "url": "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net/deployments/c8a7948d5a554982a8591f89fcf47872",
                        "log_url": "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net/deployments/c8a7948d5a554982a8591f89fcf47872/log",
                        "site_name": "cloud-custodian-test-consumption382f3715d07e"
                    }
                }
            }
        },
        {
            "request": {
                "method": "POST",
                "uri": "https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/syncfunctiontriggers?api-version=2019-08-01",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:53 GMT"
                    ],
                    "cache-control": [
                        "private"
                    ],
                    "etag": [
                        "\"1D5EEA2FDB5E54B\""
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ],
                    "x-ms-ratelimit-remaining-subscription-writes": [
                        "1199"
                    ],
                    "content-length": [
                        "20"
                    ]
                },
                "body": {
                    "data": {
                        "status": "success"
                    }
                }
            }
        },
        {
            "request": {
                "method": "POST",
                "uri": "https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/config/appsettings/list?api-version=2019-08-01",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Sat, 29 Feb 2020 01:58:53 GMT"
                    ],
                    "cache-control": [
                        "no-cache"
                    ],
                    "x-ms-ratelimit-remaining-subscription-resource-requests": [
                        "11998"
                    ],
                    "content-type": [
                        "application/json"
                    ],
                    "content-length": [
                        "544"
                    ]
                },
                "body": {
                    "data": {
                        "id": "/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/config/appsettings",
                        "name": "appsettings",
                        "type": "Microsoft.Web/sites/config",
                        "location": "East US",
                        "properties": {
                            "AzureWebJobsStorage": "DefaultEndpointsProtocol=https;AccountName=ccfuncappc129bfa71a47;AccountKey=DEC0DEDITtVwMoyAuTz1LioKkC+gB/EpRlQKNIaszQEhVidjWyP1kLW1z+jo/MGFHKc+t+M20PxoraNCslng9w==",
                            "FUNCTIONS_EXTENSION_VERSION": "~2",
                            "FUNCTIONS_WORKER_RUNTIME": "python"
                        }
                    }
                }
            }
        }
    ]
}