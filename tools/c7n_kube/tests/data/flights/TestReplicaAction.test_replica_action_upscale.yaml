interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - Swagger-Codegen/10.0.1/python
    method: GET
    uri: https://ghost/apis/apps/v1/deployments
  response:
    body:
      string: '{"kind":"DeploymentList","apiVersion":"apps/v1","metadata":{"selfLink":"/apis/apps/v1/deployments","resourceVersion":"219224"},"items":[{"metadata":{"name":"nginx","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/deployments/nginx","uid":"21c06cdd-9642-4259-afba-c4aa74b8ba1e","resourceVersion":"219090","generation":3,"creationTimestamp":"2020-06-18T09:43:32Z","labels":{"app":"nginx"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":3,"selector":{"matchLabels":{"app":"nginx"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"nginx"}},"spec":{"containers":[{"name":"nginx","image":"bitnami/nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":3,"replicas":3,"updatedReplicas":3,"readyReplicas":3,"availableReplicas":3,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2020-06-18T09:44:21Z","lastTransitionTime":"2020-06-18T09:43:32Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet
        \"nginx-58c6ddbfcd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2020-06-18T10:00:05Z","lastTransitionTime":"2020-06-18T10:00:05Z","reason":"MinimumReplicasAvailable","message":"Deployment
        has minimum availability."}]}},{"metadata":{"name":"coredns","namespace":"kube-system","selfLink":"/apis/apps/v1/namespaces/kube-system/deployments/coredns","uid":"23db06c1-ecac-497e-b3ea-3d7385c33a9a","resourceVersion":"216662","generation":3,"creationTimestamp":"2020-03-13T14:23:19Z","labels":{"k8s-app":"kube-dns"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":2,"selector":{"matchLabels":{"k8s-app":"kube-dns"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"k8s-app":"kube-dns"}},"spec":{"volumes":[{"name":"config-volume","configMap":{"name":"coredns","items":[{"key":"Corefile","path":"Corefile"}],"defaultMode":420}}],"containers":[{"name":"coredns","image":"k8s.gcr.io/coredns:1.6.5","args":["-conf","/etc/coredns/Corefile"],"ports":[{"name":"dns","containerPort":53,"protocol":"UDP"},{"name":"dns-tcp","containerPort":53,"protocol":"TCP"},{"name":"metrics","containerPort":9153,"protocol":"TCP"}],"resources":{"limits":{"memory":"170Mi"},"requests":{"cpu":"100m","memory":"70Mi"}},"volumeMounts":[{"name":"config-volume","readOnly":true,"mountPath":"/etc/coredns"}],"livenessProbe":{"httpGet":{"path":"/health","port":8080,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"readinessProbe":{"httpGet":{"path":"/ready","port":8181,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_BIND_SERVICE"],"drop":["all"]},"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","nodeSelector":{"beta.kubernetes.io/os":"linux"},"serviceAccountName":"coredns","serviceAccount":"coredns","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"}],"priorityClassName":"system-cluster-critical"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":1,"maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":3,"replicas":2,"updatedReplicas":2,"readyReplicas":2,"availableReplicas":2,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2020-03-13T14:23:38Z","lastTransitionTime":"2020-03-13T14:23:25Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet
        \"coredns-6955765f44\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2020-03-13T16:00:20Z","lastTransitionTime":"2020-03-13T16:00:20Z","reason":"MinimumReplicasAvailable","message":"Deployment
        has minimum availability."}]}}]}

        '
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 18 Jun 2020 10:01:05 GMT
      Transfer-Encoding:
      - chunked
    status:
      code: 200
      message: OK
- request:
    body: '{"spec": {"replicas": 3}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/strategic-merge-patch+json
      User-Agent:
      - Swagger-Codegen/10.0.1/python
    method: PATCH
    uri: https://ghost/apis/apps/v1/namespaces/default/deployments/nginx
  response:
    body:
      string: '{"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"nginx","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/deployments/nginx","uid":"21c06cdd-9642-4259-afba-c4aa74b8ba1e","resourceVersion":"219090","generation":3,"creationTimestamp":"2020-06-18T09:43:32Z","labels":{"app":"nginx"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":3,"selector":{"matchLabels":{"app":"nginx"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"nginx"}},"spec":{"containers":[{"name":"nginx","image":"bitnami/nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":3,"replicas":3,"updatedReplicas":3,"readyReplicas":3,"availableReplicas":3,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2020-06-18T09:44:21Z","lastTransitionTime":"2020-06-18T09:43:32Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet
        \"nginx-58c6ddbfcd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2020-06-18T10:00:05Z","lastTransitionTime":"2020-06-18T10:00:05Z","reason":"MinimumReplicasAvailable","message":"Deployment
        has minimum availability."}]}}

        '
    headers:
      Content-Length:
      - '1552'
      Content-Type:
      - application/json
      Date:
      - Thu, 18 Jun 2020 10:01:06 GMT
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - Swagger-Codegen/10.0.1/python
    method: GET
    uri: https://ghost/apis/apps/v1/deployments
  response:
    body:
      string: '{"kind":"DeploymentList","apiVersion":"apps/v1","metadata":{"selfLink":"/apis/apps/v1/deployments","resourceVersion":"219224"},"items":[{"metadata":{"name":"nginx","namespace":"default","selfLink":"/apis/apps/v1/namespaces/default/deployments/nginx","uid":"21c06cdd-9642-4259-afba-c4aa74b8ba1e","resourceVersion":"219090","generation":3,"creationTimestamp":"2020-06-18T09:43:32Z","labels":{"app":"nginx"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":3,"selector":{"matchLabels":{"app":"nginx"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"nginx"}},"spec":{"containers":[{"name":"nginx","image":"bitnami/nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":3,"replicas":3,"updatedReplicas":3,"readyReplicas":3,"availableReplicas":3,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2020-06-18T09:44:21Z","lastTransitionTime":"2020-06-18T09:43:32Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet
        \"nginx-58c6ddbfcd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2020-06-18T10:00:05Z","lastTransitionTime":"2020-06-18T10:00:05Z","reason":"MinimumReplicasAvailable","message":"Deployment
        has minimum availability."}]}},{"metadata":{"name":"coredns","namespace":"kube-system","selfLink":"/apis/apps/v1/namespaces/kube-system/deployments/coredns","uid":"23db06c1-ecac-497e-b3ea-3d7385c33a9a","resourceVersion":"216662","generation":3,"creationTimestamp":"2020-03-13T14:23:19Z","labels":{"k8s-app":"kube-dns"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":2,"selector":{"matchLabels":{"k8s-app":"kube-dns"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"k8s-app":"kube-dns"}},"spec":{"volumes":[{"name":"config-volume","configMap":{"name":"coredns","items":[{"key":"Corefile","path":"Corefile"}],"defaultMode":420}}],"containers":[{"name":"coredns","image":"k8s.gcr.io/coredns:1.6.5","args":["-conf","/etc/coredns/Corefile"],"ports":[{"name":"dns","containerPort":53,"protocol":"UDP"},{"name":"dns-tcp","containerPort":53,"protocol":"TCP"},{"name":"metrics","containerPort":9153,"protocol":"TCP"}],"resources":{"limits":{"memory":"170Mi"},"requests":{"cpu":"100m","memory":"70Mi"}},"volumeMounts":[{"name":"config-volume","readOnly":true,"mountPath":"/etc/coredns"}],"livenessProbe":{"httpGet":{"path":"/health","port":8080,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"readinessProbe":{"httpGet":{"path":"/ready","port":8181,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_BIND_SERVICE"],"drop":["all"]},"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","nodeSelector":{"beta.kubernetes.io/os":"linux"},"serviceAccountName":"coredns","serviceAccount":"coredns","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"}],"priorityClassName":"system-cluster-critical"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":1,"maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":3,"replicas":2,"updatedReplicas":2,"readyReplicas":2,"availableReplicas":2,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2020-03-13T14:23:38Z","lastTransitionTime":"2020-03-13T14:23:25Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet
        \"coredns-6955765f44\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2020-03-13T16:00:20Z","lastTransitionTime":"2020-03-13T16:00:20Z","reason":"MinimumReplicasAvailable","message":"Deployment
        has minimum availability."}]}}]}

        '
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 18 Jun 2020 10:01:06 GMT
      Transfer-Encoding:
      - chunked
    status:
      code: 200
      message: OK
version: 1
